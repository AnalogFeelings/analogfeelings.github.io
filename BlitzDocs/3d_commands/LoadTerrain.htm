<html>
<head>
<title>Blitz3D Docs</title>
<link rel=stylesheet href=../css/commands.css type=text/css>
</head>
<body>
<h1>LoadTerrain ( file$[,parent] )</h1>
<h1>Parameters</h1>
<table>
<tr>
<td>
file$ - filename of image file to be used as height map<br />
parent (optional) - parent entity of terrain
</td>
</tr>
</table>
<h1>Description</h1>
<table>
<tr>
<td>
Loads a terrain from an image file and returns the terrain's handle.<br />
<br />
The  image's red channel is used to determine heights. Terrain is initially the same  width and depth as the image, and 1 unit high. <br />
<br />
Tips on generating nice terrain:<br />
<br />
* Smooth or blur the height map<br />
* Reduce the y scale of the terrain<br />
* Increase the x/z scale of the terrain<br />
* Reduce the camera range <br />
<br />
When texturing an entity, a texture with a scale of 1,1,1 (default) will  be the same size as one of the terrain's grid squares. A texture that is scaled  to the same size as the size of the bitmap used to load it or the no. of grid  square used to create it, will be the same size as the terrain. <br />
<br />
The optional parent parameter allows you to specify a parent  entity for the terrain so that when the parent is moved the child terrain will  move with it. However, this relationship is one way; applying movement commands  to the child will not affect the parent.  <br />
<br />
Specifying a parent entity will still result in the terrain being created  at position 0,0,0 rather than at the parent entity's position.  <br />
<br />
A heightmaps dimensions (width and height) must be the same and must be a power of 2, e.g. 32, 64, 128, 256, 512, 1024. <br />
<br />
See also: CreateTerrain.
</td>
</tr>
</table>
<h1><a href=../3d_examples/LoadTerrain.bb>Example</a></h1>
<table>
<tr>
<td>
LoadTerrain Example<br />
-------------------<br />
<br />
Graphics3D 640,480<br />
SetBuffer BackBuffer()<br />
<br />
camera=CreateCamera()<br />
PositionEntity camera,1,1,1<br />
<br />
light=CreateLight()<br />
RotateEntity light,90,0,0<br />
<br />
; Load terrain<br />
terrain=LoadTerrain( "media/height_map.bmp" )<br />
<br />
; Set terrain detail, enable vertex morphing<br />
TerrainDetail terrain,4000,True<br />
<br />
; Scale terrain<br />
ScaleEntity terrain,1,50,1<br />
<br />
; Texture terrain<br />
grass_tex=LoadTexture( "media/mossyground.bmp" )<br />
EntityTexture terrain,grass_tex,0,1<br />
<br />
While Not KeyDown( 1 )<br />
<br />
If KeyDown( 205 )=True Then TurnEntity camera,0,-1,0<br />
If KeyDown( 203 )=True Then TurnEntity camera,0,1,0<br />
If KeyDown( 208 )=True Then MoveEntity camera,0,0,-0.1<br />
If KeyDown( 200 )=True Then MoveEntity camera,0,0,0.1<br />
<br />
x#=EntityX(camera)<br />
y#=EntityY(camera)<br />
z#=EntityZ(camera)<br />
<br />
terra_y#=TerrainY(terrain,x#,y#,z#)+5<br />
<br />
PositionEntity camera,x#,terra_y#,z#<br />
<br />
RenderWorld<br />
<br />
Text 0,0,"Use cursor keys to move about the terrain"<br />
<br />
Flip<br />
<br />
Wend<br />
<br />
End
</td>
</tr>
</table>
<br>
<a target=_top href=../index.htm>Index</a><br>
<br>
Click <a href=http://www.blitzbasic.co.nz/b3ddocs/command.php?name=LoadTerrain&ref=comments target=_blank>here</a> to view the latest version of this page online</body>
</html>
